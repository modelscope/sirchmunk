<div align="center">

<img src="web/public/logo-v2.png" alt="Sirchmunk Logo" width="250" style="border-radius: 15px;">

# Sirchmunk: ä»åŸå§‹æ•°æ®åˆ°è‡ªè¿›åŒ–çš„å®æ—¶æ™ºèƒ½

[![Python](https://img.shields.io/badge/Python-3.10%2B-3776AB?style=flat-square&logo=python&logoColor=white)](https://www.python.org/downloads/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.100%2B-009688?style=flat-square&logo=fastapi&logoColor=white)](https://fastapi.tiangolo.com/)
[![Next.js](https://img.shields.io/badge/Next.js-14-000000?style=flat-square&logo=next.js&logoColor=white)](https://nextjs.org/)
[![TailwindCSS](https://img.shields.io/badge/Tailwind-3.4-06B6D4?style=flat-square&logo=tailwindcss&logoColor=white)](https://tailwindcss.com/)
[![DuckDB](https://img.shields.io/badge/DuckDB-OLAP-FFF000?style=flat-square&logo=duckdb&logoColor=black)](https://duckdb.org/)
[![License](https://img.shields.io/badge/License-Apache%202.0-blue?style=flat-square)](LICENSE)
[![ripgrep-all](https://img.shields.io/badge/ripgrep--all-Search-E67E22?style=flat-square&logo=rust&logoColor=white)](https://github.com/phiresky/ripgrep-all)
[![OpenAI](https://img.shields.io/badge/OpenAI-API-412991?style=flat-square&logo=openai&logoColor=white)](https://github.com/openai/openai-python)
[![Ollama](https://img.shields.io/badge/Ollama-Local_LLM-000000?style=flat-square&logo=ollama&logoColor=white)](https://ollama.com/)
[![Kreuzberg](https://img.shields.io/badge/Kreuzberg-Text_Extraction-4CAF50?style=flat-square&logo=python&logoColor=white)](https://github.com/zalando/kreuzberg)

<p align="center">
  <b>å®æ—¶æœç´¢ã€æ¨ç†ä¸çŸ¥è¯†æ¼”åŒ–ã€‚</b>
</p>

[**å¿«é€Ÿå¼€å§‹**](#-å¿«é€Ÿå¼€å§‹) Â· [**æ¶æ„è®¾è®¡**](#-æ¶æ„è®¾è®¡) Â· [**æ ¸å¿ƒæ¨¡å—**](#-æ ¸å¿ƒæ¨¡å—) Â· [**API å‚è€ƒ**](#-api-å‚è€ƒ) Â· [**å¸¸è§é—®é¢˜**](#-å¸¸è§é—®é¢˜)

[ğŸ‡ºğŸ‡¸ English](README.md)

</div>

<div align="center">

ğŸ” **æ™ºèƒ½æœç´¢** &nbsp;â€¢&nbsp; ğŸ§  **çŸ¥è¯†èšç±»** &nbsp;â€¢&nbsp; ğŸ“Š **è’™ç‰¹å¡æ´›è¯æ®é‡‡æ ·**<br>
âš¡ **å…ç´¢å¼•æ£€ç´¢** &nbsp;â€¢&nbsp; ğŸ”„ **è‡ªè¿›åŒ–çŸ¥è¯†åº“** &nbsp;â€¢&nbsp; ğŸ’¬ **å®æ—¶å¯¹è¯**

</div>

---

## ğŸŒ° â€œSirchmunkâ€ çš„å«ä¹‰

**Sirchmunk** ç”± **Search** ä¸ **Chipmunk** èåˆè€Œæ¥ï¼šå¿«é€Ÿã€çµæ´»ã€æ“…é•¿åœ¨åºæ‚æ•°æ®ä¸­ç²¾å‡†æŒ–æ˜ä»·å€¼ä¿¡å·ã€‚

Logoè±¡å¾ï¼š

- **åŠ¨ä½œè¿…æ·**ï¼šæ— éœ€å‘é‡æ•°æ®åº“ä¸è€—æ—¶ç´¢å¼•ï¼Œå³åˆ»æ£€ç´¢  
- **ä¸æŒ‘é£Ÿ**ï¼šå¯å¤„ç† PDFã€ä»£ç ã€Markdownã€æ—¥å¿—ç­‰å¤æ‚æ–‡æ¡£  
- **è½»é‡è®¾è®¡**ï¼šä¾èµ–æç®€ï¼Œæ˜“éƒ¨ç½²  
- **ç¯å¢ƒé€‚åº”èƒ½åŠ›å¼º**ï¼šçŸ¥è¯†å¯æŒç»­è‡ªæˆ‘è¿›åŒ–  

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ” æ™ºèƒ½æœç´¢å¼•æ“ä¸å¤šçº§å…³é”®è¯æå–

- **æ™ºèƒ½æŸ¥è¯¢ç†è§£**ï¼šLLM é©±åŠ¨çš„å…³é”®è¯æå–ï¼Œæ”¯æŒå¯é…ç½®çš„ç²’åº¦çº§åˆ«ï¼ˆç²—ç²’åº¦ â†’ ç»†ç²’åº¦ï¼‰
- **ä¼˜å…ˆå‘½ä¸­æ£€ç´¢**ï¼šæŒ‰å…³é”®è¯çº§åˆ«é¡ºåºæœç´¢ï¼Œé¦–æ¬¡å‘½ä¸­å³åœæ­¢ï¼Œå®ç°æœ€ä¼˜æ•ˆç‡
- **TF-IDF è¯„åˆ†**ï¼šå…ˆè¿›çš„æ–‡æ¡£æ’åºç®—æ³•ï¼Œæ”¯æŒè‡ªå®šä¹‰æƒé‡

### ğŸ§  è‡ªè¿›åŒ–çŸ¥è¯†èšç±»

- **è‡ªåŠ¨çŸ¥è¯†ç»“æ„åŒ–**ï¼šå°†åŸå§‹æœç´¢ç»“æœè½¬æ¢ä¸ºç»“æ„åŒ–çš„ `KnowledgeCluster` å¯¹è±¡
- **åŸºäºè¯æ®çš„å­¦ä¹ **ï¼šè’™ç‰¹å¡æ´›é‡‡æ ·è¯†åˆ«ç›¸å…³åŒºåŸŸï¼Œç»“åˆ LLM è¯„ä¼°
- **ç”Ÿå‘½å‘¨æœŸç®¡ç†**ï¼šè·Ÿè¸ªçŸ¥è¯†çŠ¶æ€ï¼ˆ`STABLE`ã€`EMERGING`ã€`CONTESTED`ã€`DEPRECATED`ï¼‰
- **æŒä¹…åŒ–å­˜å‚¨**ï¼šDuckDB + Parquet å®ç°é«˜æ•ˆçš„çŸ¥è¯†æŒä¹…åŒ–å’Œæ£€ç´¢
- **åŠ¨æ€çŸ¥è¯†ç”Ÿæˆ**ï¼šçŸ¥è¯†èšç±»éšæœç´¢æ¨¡å¼æŒç»­æ„å»ºä¸æ›´æ–°

### ğŸ“š å¤§è§„æ¨¡æ–‡æ¡£ç†è§£

- **æµ·é‡è¦†ç›–**ï¼šæ— éœ€é¢„ç´¢å¼•å³å¯å¤„ç†å¤§å‹ä»“åº“
- **ç²¾ç»†åŒ–è¯æ®å®šä½**ï¼šä»è¶…é•¿æ–‡æ¡£ä¸­æŠ½å–å¹¶è¯„åˆ†å…³é”®ç‰‡æ®µ
- **å¤šçº§å¬å›å¢å¼º**ï¼šç²—åˆ°ç»†å…³é”®è¯åˆ†å±‚æå‡é•¿æ–‡ä¸å™ªå£°è¯­æ–™å‘½ä¸­ç‡

### âš¡ å…ç´¢å¼•å®æ—¶æ£€ç´¢

- **æ— éœ€é¢„ç´¢å¼•**ï¼šåŸºäº `grep` çš„ç›´æ¥æ£€ç´¢
- **å¤šæ ¼å¼æ”¯æŒ**ï¼šPDFã€DOCXã€TXTã€Markdownã€ä»£ç æ–‡ä»¶ç­‰
- **æé€Ÿæœç´¢**ï¼šå¯é…ç½®å¹¶å‘çš„å¹¶è¡Œæ–‡ä»¶æ‰«æ

### ğŸ’¬ äº¤äº’å¼å¯¹è¯ç•Œé¢

- **WebSocket æµå¼ä¼ è¾“**ï¼šå®æ—¶å“åº”æµï¼Œæœç´¢æ—¥å¿—å¯è§†åŒ–
- **RAG é›†æˆ**ï¼šæ— ç¼çš„çŸ¥è¯†åº“å¢å¼ºç”Ÿæˆ
- **ä¼šè¯ç®¡ç†**ï¼šåŸºäº DuckDB çš„æŒä¹…åŒ–èŠå¤©å†å²
- **LLM ç”¨é‡è¿½è¸ª**ï¼šå®æ—¶ Token æ¶ˆè€—ç›‘æ§

### ğŸ“Š å…¨é¢çš„ç›‘æ§ä»ªè¡¨æ¿

- **ç³»ç»ŸæŒ‡æ ‡**ï¼šCPUã€å†…å­˜ã€ç£ç›˜ä½¿ç”¨ç‡ç›‘æ§
- **å¯¹è¯åˆ†æ**ï¼šä¼šè¯ç»Ÿè®¡å’Œæ´»åŠ¨ç›‘æ§
- **çŸ¥è¯†åˆ†æ**ï¼šçŸ¥è¯†èšç±»çš„ BI é£æ ¼å¯è§†åŒ–
- **LLM ä½¿ç”¨ç»Ÿè®¡**ï¼šæŒ‰æ¨¡å‹ç»Ÿè®¡ Token æ¶ˆè€—

---

## ğŸ—ï¸ æ¶æ„è®¾è®¡

<div align="center">
  <img src="assets/pic/Sirchmunk_Architecture.png" alt="Sirchmunk Architecture" width="80%">
</div>

### æ ¸å¿ƒç»„ä»¶

| ç»„ä»¶ | æè¿° |
|:---|:---|
| **AgenticSearch** | ä¸»æœç´¢åè°ƒå™¨ï¼Œå…·æœ‰ LLM é©±åŠ¨çš„å…³é”®è¯æå–å’Œæ£€ç´¢åŠŸèƒ½ |
| **KnowledgeBank** | å°†åŸå§‹ç»“æœè½¬æ¢ä¸ºç»“æ„åŒ–çŸ¥è¯†èšç±»ï¼ŒåŒ…å«è¯æ®é‡‡æ · |
| **KnowledgeManager** | ä½¿ç”¨ DuckDB å’Œ Parquet æ ¼å¼çš„æŒä¹…åŒ–å­˜å‚¨å±‚ |
| **GrepRetriever** | é«˜æ€§èƒ½å…ç´¢å¼•æ–‡ä»¶æœç´¢ï¼Œæ”¯æŒå¹¶è¡Œå¤„ç† |
| **OpenAIChat** | ç»Ÿä¸€çš„ LLM æ¥å£ï¼Œæ”¯æŒæµå¼ä¼ è¾“å’Œç”¨é‡è¿½è¸ª |
| **MonitorTracker** | å®æ—¶ç³»ç»Ÿå’Œåº”ç”¨æŒ‡æ ‡æ”¶é›† |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®æ¡ä»¶

- **Python** 3.10+
- **Node.js** 18+ï¼ˆç”¨äº Web ç•Œé¢ï¼‰
- **LLM API Key**ï¼ˆOpenAI å…¼å®¹ç«¯ç‚¹ï¼‰

### æ­¥éª¤ 1ï¼šå…‹éš†ä¸é…ç½®

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/modelscope/sirchmunk.git
cd sirchmunk

# åˆ›å»ºç¯å¢ƒæ–‡ä»¶
cp .env.example .env
# ç¼–è¾‘ .env å¡«å…¥æ‚¨çš„ LLM API å‡­è¯
```

<details>
<summary>ğŸ“‹ <b>ç¯å¢ƒå˜é‡å‚è€ƒ</b></summary>

| å˜é‡ | å¿…éœ€ | æè¿° |
|:---|:---:|:---|
| `LLM_BASE_URL` | **æ˜¯** | LLM API ç«¯ç‚¹ï¼ˆä¾‹å¦‚ `https://api.openai.com/v1`ï¼‰ |
| `LLM_API_KEY` | **æ˜¯** | æ‚¨çš„ LLM API å¯†é’¥ |
| `LLM_MODEL_NAME` | **æ˜¯** | æ¨¡å‹åç§°ï¼ˆä¾‹å¦‚ `gpt-4o`ã€`gpt-4o-mini`ï¼‰ |
| `WORK_PATH` | å¦ | æ•°æ®å­˜å‚¨å·¥ä½œç›®å½•ï¼ˆé»˜è®¤ï¼šå½“å‰ç›®å½•ï¼‰ |
| `GREP_CONCURRENT_LIMIT` | å¦ | å¹¶è¡Œ grep å·¥ä½œçº¿ç¨‹æ•°ï¼ˆé»˜è®¤ï¼š`10`ï¼‰ |

</details>

### æ­¥éª¤ 2ï¼šå®‰è£…ä¾èµ–

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆæ¨èï¼‰
conda create -n sirchmunk python=3.10 && conda activate sirchmunk
# æˆ–ï¼špython -m venv venv && source venv/bin/activate

# å®‰è£… Python ä¾èµ–
pip install -r requirements.txt

# å®‰è£… Web ä¾èµ–
npm install --prefix web
```

### æ­¥éª¤ 3ï¼šå¯åŠ¨

```bash
# åŒæ—¶å¯åŠ¨åç«¯å’Œå‰ç«¯
python scripts/start_web.py

# æˆ–åˆ†åˆ«å¯åŠ¨ï¼š
# åç«¯ï¼špython src/api/run_server.py
# å‰ç«¯ï¼šcd web && npm run dev
```

### è®¿é—®åœ°å€

| æœåŠ¡ | URL | æè¿° |
|:---:|:---|:---|
| **Web ç•Œé¢** | http://localhost:3000 | ä¸»å¯¹è¯å’Œä»ªè¡¨æ¿ |
| **API æ–‡æ¡£** | http://localhost:8000/docs | äº¤äº’å¼ Swagger UI |

---

## ğŸ–¥ï¸ Web ç•Œé¢

Web UI é¢å‘å¿«é€Ÿã€é€æ˜çš„å·¥ä½œæµï¼šå¯¹è¯ã€çŸ¥è¯†åˆ†æä¸ç³»ç»Ÿç›‘æ§é›†ä¸­å‘ˆç°ã€‚

<div align="center">
  <img src="assets/pic/Sirchmunk_Home.png" alt="Sirchmunk Home" width="80%">
  <p><sub>ä¸»é¡µ â€” æµå¼å¯¹è¯æ—¥å¿—ã€åŸºäºæ–‡ä»¶çš„ RAGã€ä¼šè¯ç®¡ç†ã€‚</sub></p>
</div>

<div align="center">
  <img src="assets/pic/Sirchmunk_Monitor.png" alt="Sirchmunk Monitor" width="80%">
  <p><sub>ç›‘æ§ â€” ç³»ç»Ÿå¥åº·ã€å¯¹è¯æ´»åŠ¨ã€çŸ¥è¯†åˆ†æä¸ LLM ç”¨é‡ã€‚</sub></p>
</div>

---

## ğŸ“¦ æ ¸å¿ƒæ¨¡å—

<details>
<summary><b>ğŸ” AgenticSearch</b></summary>

> **æ™ºèƒ½æœç´¢å¼•æ“**ï¼Œå…·æœ‰å¤šçº§å…³é”®è¯æå–ã€ä¼˜å…ˆå‘½ä¸­æ£€ç´¢å’Œè‡ªåŠ¨çŸ¥è¯†èšç±»åŠŸèƒ½ã€‚

**æ ¸å¿ƒç‰¹æ€§**

| ç‰¹æ€§ | æè¿° |
|:---:|:---|
| å¤šçº§å…³é”®è¯ | å¯é…ç½®ç²’åº¦çº§åˆ«ï¼ˆ1-Nï¼‰çš„å…³é”®è¯æå– |
| ä¼˜å…ˆå‘½ä¸­æœç´¢ | ä»»æ„çº§åˆ«æ‰¾åˆ°ç»“æœå³åœæ­¢æœç´¢ |
| TF-IDF è¯„åˆ† | å¸¦é•¿åº¦æƒ©ç½šçš„å…ˆè¿›æ–‡æ¡£æ’åº |
| çŸ¥è¯†æŒä¹…åŒ– | è‡ªåŠ¨å°†æœç´¢ç»“æœä¿å­˜ä¸º KnowledgeCluster å¯¹è±¡ |

**Python API**

```python
import asyncio
from sirchmunk import AgenticSearch

async def main():
    search = AgenticSearch()
    
    result = await search.search(
        query="Transformer æ³¨æ„åŠ›æœºåˆ¶æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ",
        search_paths=["/path/to/documents"],
        keyword_levels=3,  # ç²—ç²’åº¦ â†’ ä¸­ç²’åº¦ â†’ ç»†ç²’åº¦
        top_k_files=5,
        max_depth=10
    )
    
    print(result)

asyncio.run(main())
```

</details>

---

<details>
<summary><b>ğŸ§  KnowledgeBank</b></summary>

> **è¯æ®å¤„ç†å™¨**ï¼Œä½¿ç”¨è’™ç‰¹å¡æ´›é‡‡æ ·å’Œ LLM è¯„ä¼°å°†åŸå§‹æœç´¢ç»“æœè½¬æ¢ä¸ºç»“æ„åŒ–çŸ¥è¯†èšç±»ã€‚

**æ ¸å¿ƒç‰¹æ€§**

| ç‰¹æ€§ | æè¿° |
|:---:|:---|
| è’™ç‰¹å¡æ´›é‡‡æ · | é€šè¿‡è¿­ä»£é‡‡æ ·è¯†åˆ«å¤§å‹æ–‡æ¡£ä¸­çš„ç›¸å…³åŒºåŸŸ |
| LLM è¯æ®è¯„ä¼° | å¸¦æ¨ç†çš„è¯æ®ç‰‡æ®µè¯„åˆ†å’ŒéªŒè¯ |
| æ¨¡ç³Šé”šå®š | åŸºäº RapidFuzz çš„é¢„è¿‡æ»¤ï¼Œå®ç°é«˜æ•ˆé‡‡æ · |
| ç»“æ„åŒ–è¾“å‡º | ç”ŸæˆåŒ…å«è¯æ®ã€æ¨¡å¼å’Œçº¦æŸçš„ KnowledgeCluster |

**çŸ¥è¯†èšç±» Schema**

```python
@dataclass
class KnowledgeCluster:
    id: str
    name: str
    description: List[str]
    content: Union[str, List[str]]
    evidences: List[EvidenceUnit]
    patterns: List[str]
    constraints: List[Constraint]
    confidence: float
    abstraction_level: AbstractionLevel
    lifecycle: Lifecycle  # STABLE, EMERGING, CONTESTED, DEPRECATED
    hotness: float
    search_results: List[str]
```

</details>

---

<details>
<summary><b>ğŸ’¾ KnowledgeManager</b></summary>

> **ä½¿ç”¨ DuckDB å’Œ Parquet æ ¼å¼çš„çŸ¥è¯†èšç±»æŒä¹…åŒ–å­˜å‚¨å±‚**ã€‚

**æ ¸å¿ƒç‰¹æ€§**

| ç‰¹æ€§ | æè¿° |
|:---:|:---|
| CRUD æ“ä½œ | å®Œæ•´çš„å¢åˆ æ”¹æŸ¥æ”¯æŒ |
| æ¨¡ç³Šæœç´¢ | æŒ‰åç§°ã€æè¿°æˆ–å†…å®¹æŸ¥æ‰¾èšç±» |
| åˆå¹¶ä¸æ‹†åˆ† | åˆå¹¶æˆ–æ‹†åˆ†çŸ¥è¯†èšç±» |
| ç»Ÿè®¡ä¿¡æ¯ | è·å–åˆ†æå’Œåˆ†å¸ƒæŒ‡æ ‡ |

**Python API**

```python
from sirchmunk.storage import KnowledgeManager

# åˆå§‹åŒ–ç®¡ç†å™¨
km = KnowledgeManager(work_path="/path/to/workspace")

# æ’å…¥èšç±»
await km.insert(cluster)

# æœç´¢èšç±»
results = await km.find("transformer attention")

# è·å–ç»Ÿè®¡ä¿¡æ¯
stats = km.get_stats()
print(f"èšç±»æ€»æ•°: {stats['custom_stats']['total_clusters']}")
```

**å­˜å‚¨ä½ç½®**

```
{WORK_PATH}/
â””â”€â”€ .cache/
    â””â”€â”€ knowledge/
        â””â”€â”€ knowledge_clusters.parquet
```

</details>

---

<details>
<summary><b>âš¡ GrepRetriever</b></summary>

> **é«˜æ€§èƒ½å…ç´¢å¼•æ£€ç´¢å™¨**ï¼Œä½¿ç”¨å¹¶è¡Œ grep å®ç°å®æ—¶æ–‡ä»¶æœç´¢ã€‚

**æ ¸å¿ƒç‰¹æ€§**

| ç‰¹æ€§ | æè¿° |
|:---:|:---|
| å¹¶è¡Œå¤„ç† | å¯é…ç½®å¹¶å‘å·¥ä½œçº¿ç¨‹ |
| å¤šæ ¼å¼æ”¯æŒ | PDFã€DOCXã€TXTã€MDã€ä»£ç æ–‡ä»¶ç­‰ |
| æ­£åˆ™æ”¯æŒ | æ”¯æŒå®Œæ•´æ­£åˆ™è¡¨è¾¾å¼åŒ¹é… |
| ç»“æœåˆå¹¶ | è·¨æ–‡ä»¶å»é‡å¹¶åˆå¹¶ç»“æœ |

**æ”¯æŒçš„æ–‡ä»¶ç±»å‹**

- æ–‡æ¡£ï¼šPDFã€DOCXã€TXTã€Markdown
- ä»£ç ï¼šPythonã€JavaScriptã€TypeScriptã€Javaã€Goã€Rustã€C/C++
- æ•°æ®ï¼šJSONã€YAMLã€XMLã€CSV
- å‹ç¼©åŒ…ï¼šZIPã€TARï¼ˆè‡ªåŠ¨è§£å‹ï¼‰

</details>

---

<details>
<summary><b>ğŸ’¬ Chat API</b></summary>

> **åŸºäº WebSocket çš„å¯¹è¯æ¥å£**ï¼Œæ”¯æŒ RAG é›†æˆä¸å®æ—¶æµå¼è¾“å‡ºã€‚

**å¯¹è¯æ¨¡å¼**

| æ¨¡å¼ | æè¿° |
|:---:|:---|
| çº¯å¯¹è¯ | ä¸è¿›è¡Œæ£€ç´¢çš„ LLM ç›´è¿å¯¹è¯ |
| å¯¹è¯ + RAG | åŸºäºæœ¬åœ°æ–‡ä»¶çš„çŸ¥è¯†å¢å¼ºç”Ÿæˆ |
| å¯¹è¯ + Web | Web æœç´¢å¢å¼ºï¼ˆå³å°†ä¸Šçº¿ï¼‰ |
| å¯¹è¯ + RAG + Web | æœ¬åœ°çŸ¥è¯†ä¸ Web æœç´¢ç»“åˆ |

**WebSocket æ¶ˆæ¯æ ¼å¼**

```json
{
  "type": "message",
  "content": "Your question here",
  "session_id": "uuid",
  "enable_rag": true,
  "kb_name": "/path/to/documents"
}
```

**å“åº”ç±»å‹**

```json
// Streaming content
{"type": "content", "content": "..."}

// Search logs
{"type": "search_log", "level": "info", "message": "...", "is_streaming": false}

// Status updates
{"type": "status", "stage": "generating", "message": "..."}

// Completion
{"type": "done", "message_id": "uuid", "sources": {...}}
```

</details>

---

## ğŸ“‚ æ•°æ®å­˜å‚¨

æ‰€æœ‰æŒä¹…åŒ–æ•°æ®å­˜å‚¨åœ¨é…ç½®çš„ `WORK_PATH` ä¸­ï¼š

```
{WORK_PATH}/
â”œâ”€â”€ .cache/
â”‚   â”œâ”€â”€ history/              # å¯¹è¯å†å²ï¼ˆDuckDBï¼‰
â”‚   â”‚   â””â”€â”€ chat_history.db
â”‚   â”œâ”€â”€ knowledge/            # çŸ¥è¯†èšç±»ï¼ˆParquetï¼‰
â”‚   â”‚   â””â”€â”€ knowledge_clusters.parquet
â”‚   â””â”€â”€ settings/             # ç”¨æˆ·è®¾ç½®ï¼ˆDuckDBï¼‰
â”‚       â””â”€â”€ settings.db
â””â”€â”€ logs/                     # åº”ç”¨æ—¥å¿—
```

---

## ğŸ”§ API å‚è€ƒ

### REST ç«¯ç‚¹

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° |
|:---|:---:|:---|
| `/api/v1/chat/sessions` | GET | è·å–æ‰€æœ‰ä¼šè¯ |
| `/api/v1/chat/session/{id}` | GET | è·å–ä¼šè¯è¯¦æƒ… |
| `/api/v1/chat/ws` | WS | WebSocket å¯¹è¯ç«¯ç‚¹ |
| `/api/v1/knowledge/list` | GET | è·å–çŸ¥è¯†èšç±»åˆ—è¡¨ |
| `/api/v1/knowledge/stats` | GET | è·å–çŸ¥è¯†ç»Ÿè®¡ |
| `/api/v1/knowledge/search` | POST | æœç´¢çŸ¥è¯†èšç±» |
| `/api/v1/monitor/overview` | GET | è·å–ç³»ç»Ÿæ¦‚è§ˆ |
| `/api/v1/monitor/llm` | GET | è·å– LLM ç”¨é‡ç»Ÿè®¡ |
| `/api/v1/settings` | GET/POST | ç®¡ç†è®¾ç½® |

### Python SDK

```python
from sirchmunk import AgenticSearch
from sirchmunk.llm import OpenAIChat
from sirchmunk.storage import KnowledgeManager

# ä½¿ç”¨è‡ªå®šä¹‰ LLM åˆå§‹åŒ–
llm = OpenAIChat(
    base_url="https://api.openai.com/v1",
    api_key="your-key",
    model="gpt-4o"
)

search = AgenticSearch(llm=llm)
result = await search.search(query="...", search_paths=["..."])
```

---

## â“ å¸¸è§é—®é¢˜

<details>
<summary><b>è¿™ä¸ä¼ ç»Ÿ RAG ç³»ç»Ÿæœ‰ä»€ä¹ˆä¸åŒï¼Ÿ</b></summary>

Sirchmunk é‡‡ç”¨**å…ç´¢å¼•æ–¹æ³•**ï¼š

1. **æ— éœ€é¢„ç´¢å¼•**ï¼šæ— éœ€å‘é‡æ•°æ®åº“è®¾ç½®çš„ç›´æ¥æ–‡ä»¶æœç´¢
2. **è‡ªè¿›åŒ–**ï¼šçŸ¥è¯†èšç±»æ ¹æ®æœç´¢æ¨¡å¼æ¼”è¿›
3. **å¤šçº§æ£€ç´¢**ï¼šè‡ªé€‚åº”å…³é”®è¯ç²’åº¦æå‡å¬å›
4. **åŸºäºè¯æ®**ï¼šè’™ç‰¹å¡æ´›é‡‡æ ·å®ç°ç²¾ç¡®å†…å®¹æå–

</details>

<details>
<summary><b>æ”¯æŒå“ªäº› LLM æä¾›å•†ï¼Ÿ</b></summary>

ä»»ä½• OpenAI å…¼å®¹çš„ API ç«¯ç‚¹ï¼ŒåŒ…æ‹¬ï¼š
- OpenAIï¼ˆGPT-4ã€GPT-4oã€GPT-3.5ï¼‰
- Azure OpenAI
- é€šè¿‡ Ollamaã€vLLM æˆ– LM Studio çš„æœ¬åœ°æ¨¡å‹
- é€šè¿‡ API ä»£ç†çš„ Claude

</details>

<details>
<summary><b>å¦‚ä½•æ·»åŠ è¦æœç´¢çš„æ–‡æ¡£ï¼Ÿ</b></summary>

åªéœ€åœ¨æœç´¢æ—¶æŒ‡å®šè·¯å¾„ï¼š

```python
result = await search.search(
    query="Your question",
    search_paths=["/path/to/folder", "/path/to/file.pdf"]
)
```

æ— éœ€é¢„å¤„ç†æˆ–ç´¢å¼•ï¼

</details>

<details>
<summary><b>çŸ¥è¯†èšç±»å­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ</b></summary>

çŸ¥è¯†èšç±»ä»¥ Parquet æ ¼å¼æŒä¹…åŒ–å­˜å‚¨åœ¨ï¼š
```
{WORK_PATH}/.cache/knowledge/knowledge_clusters.parquet
```

æ‚¨å¯ä»¥ä½¿ç”¨ DuckDB æˆ– `KnowledgeManager` API æŸ¥è¯¢ã€‚

</details>

<details>
<summary><b>å¦‚ä½•ç›‘æ§ LLM Token ä½¿ç”¨é‡ï¼Ÿ</b></summary>

1. **Web ä»ªè¡¨æ¿**ï¼šè¿›å…¥ Monitor é¡µé¢æŸ¥çœ‹å®æ—¶ç»Ÿè®¡
2. **API**ï¼š`GET /api/v1/monitor/llm` è¿”å›ç”¨é‡æŒ‡æ ‡
3. **ä»£ç **ï¼šæœç´¢å®Œæˆåè®¿é—® `search.llm_usages`

</details>

---

## ğŸ“‹ è·¯çº¿å›¾

- [x] å¤šçº§å…³é”®è¯æå–
- [x] çŸ¥è¯†ç»“æ„åŒ–è¡¨ç¤ºä¸æŒä¹…åŒ–
- [x] RAG å®æ—¶å¯¹è¯
- [x] æ”¯æŒWeb UI
- [x] ç³»ç»Ÿç›‘æ§ä»ªè¡¨æ¿
- [ ] å¤šæ¨¡æ€æ”¯æŒï¼ˆå›¾ç‰‡ã€è§†é¢‘ç­‰ï¼‰
- [ ] Web æœç´¢é›†æˆ
- [ ] çŸ¥è¯†å¯è§†åŒ–å’Œæ·±åº¦åˆ†æ
- [ ] æ›´å¤šæ–‡ä»¶ç±»å‹çš„æ”¯æŒ

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·æŸ¥çœ‹ [è´¡çŒ®æŒ‡å—](CONTRIBUTING.md)ã€‚

```bash
# å¼€å‘ç¯å¢ƒè®¾ç½®
pip install -r requirements/tests.txt
pytest tests/
```

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [Apache License 2.0](LICENSE) è®¸å¯è¯ã€‚

---

## Star History

[![Star History Chart](https://api.star-history.com/svg?repos=modelscope/sirchmunk&type=Date)](https://star-history.com/#modelscope/sirchmunk&Date)


---

<div align="center">

**[ModelScope](https://github.com/modelscope)** Â· [â­ Star æˆ‘ä»¬](https://github.com/modelscope/sirchmunk/stargazers) Â· [ğŸ› æŠ¥å‘Šé—®é¢˜](https://github.com/modelscope/sirchmunk/issues) Â· [ğŸ’¬ è®¨è®º](https://github.com/modelscope/sirchmunk/discussions)

*âœ¨ Sirchmunkï¼šä»åŸå§‹æ•°æ®åˆ°è‡ªè¿›åŒ–çš„å®æ—¶æ™ºèƒ½ã€‚*

</div>

<p align="center">
  <em> â¤ï¸ Thanks for Visiting âœ¨ Sirchmunk !</em><br><br>
  <img src="https://visitor-badge.laobi.icu/badge?page_id=modelscope.sirchmunk&style=for-the-badge&color=00d4ff" alt="Views">
</p>
